<html>
<head>
    <meta charset="utf-8">
    <title>Heading Anchors</title>
    <style>
        
        body {
            font-family: 'Helvetica Neue';
            color: grey;
        }
        
        div {
            width: 400px;
            margin: 40px auto;
        }
        
        .heading-anchor a:after { content: '¶'; }
        .heading-anchor a {
            color: inherit;
            text-decoration: inherit;
            margin-left: 0.3em;
            opacity: 0;
        }
        .heading-anchor a:hover,
        .heading-anchor a:focus  { opacity: 0.5 !important;}
        .heading-anchor a:active { opacity: 0.75 !important; }
        
        .heading-anchor:hover a { opacity: 0.25; }
        
        h1 { color: darkgreen; }
        h2 { color: orange; }
        h3 { color: firebrick; }
        
    </style>
</head>
<body>
    
    <div>
        
        <h1>Heading Anchors</h1>

        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>


        <h2>Failure’s Not Flattering</h2>

        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>


        <h3>Hit Or Miss</h3>

        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>


        <h4>Understatement</h4>

        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>


        <h3>Ex-Miss</h3>

        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>


        <h2>All Downhill From Here</h2>


        <h3>Constant Static</h3>

        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>


        <h3>Dressed To Kill</h3>


        <h4>No News Is Good News</h4>

        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>


        <h4>Truth Of My Youth</h4>

        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        
    </div>
    
    <script>
        
        (function() {
        
            var nice = function( notNiceString ) {
                return notNiceString.replace('’','').replace(/[^a-z0-9]+/ig, '-');
            };
            
            var $ = function( selector ) {
                var domElements   = document.querySelectorAll( selector ),
                    elementsArray = [];
                for ( var i = 0; i < domElements.length; i++ ) {
                    elementsArray.push( domElements[i] );
                }
                return elementsArray;
            };
            
            $('h2, h3, h4, h5, h6').forEach(function( titleElement ) {
                
                var anchor    = document.createElement('a'),
                    niceTitle = nice( titleElement.innerHTML );
                    
                anchor.href = '#-'+ niceTitle;
                
                titleElement.className += ' heading-anchor';
                titleElement.id = '-'+ niceTitle;
                titleElement.appendChild( anchor );
            });
        
        })();
        
    </script>
</body>
</html>
